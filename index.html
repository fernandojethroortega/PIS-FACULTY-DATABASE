<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Pagudpud Integrated School - Faculty Dashboard</title>
<style>
  :root {
    --blue:#0d3b66;
    --gold:#ffb703;
    --bg:#fff8e7;
  }
  body {
    font-family:Segoe UI, Tahoma, Geneva, Verdana, sans-serif;
    background:var(--bg);
    margin:0;
    padding:0;
  }

  /* Clock styling */
  #clock {
    position: absolute;
    top: 8px;
    left: 15px;
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--blue);
    letter-spacing: 1px;
  }

  header {
    background:var(--blue);
    color:white;
    padding:10px 20px;
    text-align:center;
    margin-top:30px; /* to make room for the clock above */
  }

  h1 { margin:0; font-size:1.5rem; }
  .container { padding:20px; }

  button {
    background:var(--gold);
    border:none;
    padding:8px 16px;
    border-radius:8px;
    cursor:pointer;
    font-weight:600;
    margin:4px;
  }
  button:hover { background:#ffca3a; }

  table {
    width:100%;
    border-collapse:collapse;
    margin-top:15px;
  }
  th, td {
    border:1px solid #ccc;
    padding:8px;
    text-align:left;
  }
  th { background:var(--blue); color:white; }

  .modal {
    display:none;
    position:fixed;
    z-index:1000;
    left:0; top:0;
    width:100%; height:100%;
    overflow:auto;
    background-color:rgba(0,0,0,0.5);
  }
  .modal-content {
    background:#fff;
    margin:10% auto;
    padding:20px;
    border-radius:10px;
    width:90%;
    max-width:600px;
  }
  .close {
    color:#aaa;
    float:right;
    font-size:24px;
    font-weight:bold;
  }
  .close:hover { color:black; cursor:pointer; }

  .schedule-item {
    border:1px solid #ccc;
    padding:8px;
    border-radius:6px;
    background:#f9f9f9;
    margin:6px 0;
  }
</style>
</head>
<body>

<!-- Clock Display -->
<div id="clock"></div>

<header>
  <h1>Pagudpud Integrated School - Faculty Dashboard</h1>
</header>

<div class="container">
  <h2>Faculty Information</h2>
  <button onclick="openVacantModal()">Add Teacher</button>
  <button onclick="openSchedulesModal()">View Schedules</button>
  <button onclick="openContingencyModal()">Contingency Plan</button>
  <button onclick="openContingencyList()">Contingency List</button>
  <button onclick="openVacantChecker()">Check Vacant</button>

  <table id="facultyTable">
    <thead>
      <tr>
        <th>Name</th>
        <th>Position</th>
        <th>Advisory</th>
        <th>Subject</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody id="facultyList"></tbody>
  </table>
</div>

<!-- Info Modal -->
<div id="infoModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeInfoModal()">&times;</span>
    <h3>Teacher Information</h3>
    <div id="teacherInfo"></div>
  </div>
</div>

<!-- Vacant Modal -->
<div id="vacantModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeVacantModal()">&times;</span>
    <h3>Add Teacher</h3>
    <input type="text" id="name" placeholder="Full Name" style="width:100%;margin:5px 0;"><br>
    <input type="text" id="position" placeholder="Position" style="width:100%;margin:5px 0;"><br>
    <input type="text" id="advisory" placeholder="Advisory Class" style="width:100%;margin:5px 0;"><br>
    <input type="text" id="subject" placeholder="Subject" style="width:100%;margin:5px 0;"><br>
    <button onclick="addTeacher()">Save</button>
  </div>
</div>

<!-- Schedules Modal -->
<div id="schedulesModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeSchedulesModal()">&times;</span>
    <h3>Schedules</h3>
    <div id="schedulesList"></div>
  </div>
</div>

<!-- Contingency Modal -->
<div id="contModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeContingencyModal()">&times;</span>
    <h3>Create Contingency Plan</h3>
    <label>Absent Teacher:</label><br>
    <select id="absentTeacher" style="width:100%;margin:5px 0;"></select><br>
    <label>Substitute Teacher:</label><br>
    <select id="substituteTeacher" style="width:100%;margin:5px 0;"></select><br>
    <label>Subject:</label><br>
    <input type="text" id="subjectCont" style="width:100%;margin:5px 0;"><br>
    <label>Room:</label><br>
    <input type="text" id="roomCont" style="width:100%;margin:5px 0;"><br>
    <label>Date:</label><br>
    <input type="date" id="dateCont" style="width:100%;margin:5px 0;"><br>
    <label>Start Time:</label><br>
    <input type="time" id="startCont" style="width:100%;margin:5px 0;"><br>
    <label>End Time:</label><br>
    <input type="time" id="endCont" style="width:100%;margin:5px 0;"><br>
    <button onclick="addContingency()">Save Contingency</button>
  </div>
</div>

<!-- Contingency List Modal -->
<div id="contListModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeContingencyList()">&times;</span>
    <h3>Contingency Plans</h3>
    <div id="contList"></div>
  </div>
</div>

<!-- Vacant Checker Modal -->
<div id="vacantCheckerModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeVacantChecker()">&times;</span>
    <h3>Vacant Schedule Checker</h3>
    <div id="vacantCheckerList"></div>
  </div>
</div>

<script>
let teachers = [];
let contingency = [];

function addTeacher() {
  const name = document.getElementById('name').value.trim();
  const position = document.getElementById('position').value.trim();
  const advisory = document.getElementById('advisory').value.trim();
  const subject = document.getElementById('subject').value.trim();
  if(!name) return alert('Please enter a name.');

  teachers.push({ name, position, advisory, subject });
  renderTableFiltered();
  closeVacantModal();
  document.getElementById('name').value='';
  document.getElementById('position').value='';
  document.getElementById('advisory').value='';
  document.getElementById('subject').value='';
}

function renderTableFiltered() {
  const tbody = document.getElementById('facultyList');
  tbody.innerHTML = teachers.map((t, i) => `
    <tr>
      <td>${t.name}</td>
      <td>${t.position}</td>
      <td>${t.advisory}</td>
      <td>${t.subject}</td>
      <td><button onclick="viewTeacher(${i})">View</button></td>
    </tr>
  `).join('');
  populateContDropdown();
}

function viewTeacher(i) {
  const t = teachers[i];
  const info = `
    <p><strong>Name:</strong> ${t.name}</p>
    <p><strong>Position:</strong> ${t.position}</p>
    <p><strong>Advisory:</strong> ${t.advisory}</p>
    <p><strong>Subject:</strong> ${t.subject}</p>
  `;
  document.getElementById('teacherInfo').innerHTML = info;
  document.getElementById('infoModal').style.display='block';
}

function addContingency(){
  const absent = document.getElementById('absentTeacher').value;
  const substitute = document.getElementById('substituteTeacher').value;
  const subject = document.getElementById('subjectCont').value;
  const room = document.getElementById('roomCont').value;
  const date = document.getElementById('dateCont').value;
  const start = document.getElementById('startCont').value;
  const end = document.getElementById('endCont').value;

  if(!absent || !substitute) return alert('Please select teachers.');
  contingency.push({ absent, substitute, subject, room, date, start, end });
  alert('Contingency Plan Added!');
  closeContingencyModal();
}

function populateContDropdown(){
  const absent = document.getElementById('absentTeacher');
  const substitute = document.getElementById('substituteTeacher');
  absent.innerHTML = teachers.map(t=>`<option>${t.name}</option>`).join('');
  substitute.innerHTML = teachers.map(t=>`<option>${t.name}</option>`).join('');
}

/* Clock function */
function updateClock(){
  const now = new Date();
  let hours = now.getHours();
  const minutes = now.getMinutes().toString().padStart(2,'0');
  const seconds = now.getSeconds().toString().padStart(2,'0');
  const ampm = hours >= 12 ? 'PM' : 'AM';
  hours = hours % 12 || 12;
  document.getElementById('clock').textContent = `${hours}:${minutes}:${seconds} ${ampm}`;
}
setInterval(updateClock,1000);
updateClock();

function openVacantModal(){ document.getElementById('vacantModal').style.display='block'; }
function closeVacantModal(){ document.getElementById('vacantModal').style.display='none'; }
function openSchedulesModal(){ document.getElementById('schedulesModal').style.display='block'; }
function closeSchedulesModal(){ document.getElementById('schedulesModal').style.display='none'; }
function openContingencyModal(){ document.getElementById('contModal').style.display='block'; }
function closeContingencyModal(){ document.getElementById('contModal').style.display='none'; }
function openContingencyList(){ 
  document.getElementById('contListModal').style.display='block';
  document.getElementById('contList').innerHTML = contingency.map((c,i)=>`
    <div class="schedule-item">
      <div><strong>${i+1}. ${c.absent}</strong> âžœ ${c.substitute}<br>
      ${c.subject} (${c.room})<br>${c.date} ${c.start}-${c.end}</div>
    </div>`).join('');
}
function closeContingencyList(){ document.getElementById('contListModal').style.display='none'; }
function openVacantChecker(){ document.getElementById('vacantCheckerModal').style.display='block'; }
function closeVacantChecker(){ document.getElementById('vacantCheckerModal').style.display='none'; }
function closeInfoModal(){ document.getElementById('infoModal').style.display='none'; }

renderTableFiltered();
</script>

</body>
</html>
